<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Problem Detail - Tech Help Hub</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
<header class="site-header">
  <div class="container header-inner">
    <a class="logo" href="index.html">Tech Help Hub</a>
    <nav class="nav">
      <a href="index.html">Home</a>
      <a href="problems.html">Problems</a>
      <a href="faq.html">FAQs</a>
      <a href="blog.html">Blog</a>
      <a href="contact.html">Contact</a>
      <a href="login.html" class="btn btn-sm">Login</a>
    </nav>
  </div>
</header>

<main class="container" id="content">
  <article>
    <h1 id="title">Problem</h1>
    <p id="summary" class="muted"></p>

    <div id="meta" class="meta" style="margin-bottom:12px"></div>

    <h2>Steps to fix</h2>
    <ol id="steps" class="steps"></ol>

    <div style="margin-top:18px">
      <h3>Rate this solution</h3>
      <div id="rating"></div>
      <div id="rateMsg" class="alert ok" style="display:none;margin-top:8px">Thanks for the feedback!</div>
    </div>

    <section id="videoMount" aria-label="Video guide"></section>
  </article>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <p>© <span id="year"></span> Tech Help Hub</p>
    <div class="footer-links">
      <a href="privacy.html">Privacy</a>
      <a href="terms.html">Terms</a>
      <a href="admin.html">Admin</a>
    </div>
  </div>
</footer>

<script>
const db={
  'slow-pc':{
    title:'Computer running slow',
    summary:'Speed up a slow computer with cleanup and startup tweaks.',
    category:'performance', difficulty:'Easy', os:['Windows','macOS'],
    steps:[
      {text:'Uninstall unused programs and toolbars', img:'assets/img/slow-pc/uninstall.svg', alt:'Uninstall apps screenshot'},
      {text:'Disable startup apps (Task Manager > Startup tab)', img:'assets/img/slow-pc/startup.svg', alt:'Disable startup apps'},
      {text:'Run disk cleanup and clear temporary files', img:'assets/img/slow-pc/disk-cleanup.svg', alt:'Disk Cleanup'},
      {text:'Update OS and drivers'},
      {text:'Scan for malware and remove threats'}
    ]
  },
  'wifi-drop':{
    title:'Wi‑Fi keeps disconnecting',
    summary:'Stabilize Wi‑Fi by driver, channel and power settings.',
    category:'network', difficulty:'Medium', os:['Windows','Linux','macOS'],
    steps:[
      {text:'Update network adapter drivers', img:'assets/img/wifi/driver.svg', alt:'Device Manager driver update'},
      {text:'Set Wi‑Fi channel to a less crowded one', img:'assets/img/wifi/channel.svg', alt:'Router channel change'},
      {text:'Disable power saving for the adapter', img:'assets/img/wifi/power.svg', alt:'Power saving setting'},
      {text:'Reset network settings'}
    ]
  }
};

(function init(){
  const id=new URLSearchParams(location.search).get('id')||'slow-pc';
  const p=db[id];
  if(!p){document.getElementById('content').innerHTML='<p class="alert err">Problem not found.</p>';return}
  document.getElementById('title').textContent=p.title;
  document.getElementById('summary').textContent=p.summary;
  document.getElementById('meta').innerHTML=`<span class="badge">${p.category}</span> <span class="badge">${p.difficulty}</span> ${p.os.map(o=>`<span class=badge>${o}</span>`).join(' ')}`;
  document.getElementById('steps').innerHTML=p.steps.map(s=>{
    if(typeof s==='string'){return `<li class=step><div class=step-body>${s}</div></li>`}
    const media=s.img?`<div class=step-media><a href="${s.img}" target="_blank" rel="noopener"><img src="${s.img}" alt="${s.alt||''}"></a></div>`:'';
    return `<li class=step><div class=step-body>${s.text}</div>${media}</li>`
  }).join('');

  const ratingWrap=document.getElementById('rating');
  const saved=store.get('ratings',{});
  const my=saved[id]||0;
  for(let i=1;i<=5;i++){
    const b=document.createElement('button');
    b.textContent='★';
    b.setAttribute('aria-label',`Rate ${i} stars`);
    b.className='btn btn-sm';
    b.style.opacity=i<=my?1:.6;
    b.addEventListener('click',()=>{
      const ratings=store.get('ratings',{});ratings[id]=i;store.set('ratings',ratings);
      document.getElementById('rateMsg').style.display='block';
      [...ratingWrap.children].forEach((c,idx)=>c.style.opacity=idx<i?1:.6);
    });
    ratingWrap.appendChild(b);
  }
})();
</script>
<script src="assets/js/app.js" defer></script>
</body>
</html> 